(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,n){e.exports=n(46)},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),i=n(9),o=n(11),u=n(7),l=n(8),p=n(6),s={pictures:[],pictureSRC:{},textInput:"shibuya",pageIndex:1,placeholderText:"shibuya"},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZE_PICTURE":return Object(p.a)({},e,{pictures:t.payload.pictureTag});case"ADD_PICTURE":return Object(p.a)({},e,{pictures:e.pictures.concat([t.payload.pictureTag])});case"INITIALIZE_PICTURESRC":return Object(p.a)({},e,{pictureSRC:t.payload.pictureSRC});case"ADD_PICTURESRC":var n=Object.assign(e.pictureSRC,t.payload.pictureSRC);return Object(p.a)({},e,{pictureSRC:n});case"INPUT_TEXT":return Object(p.a)({},e,{textInput:t.payload.text});case"CHANGE_INDEX":return Object(p.a)({},e,{pageIndex:t.payload.indexNum});case"CHANGE_PLACEHOLDER":return Object(p.a)({},e,{placeholderText:t.payload.phText});default:return e}},m=n(25),f=function(e){var t=e.pictures,n=e.textInput,a=e.pageIndex,c=e.placeholderText,i=(e.initializePicture,e.addPicture,e.initializePictureSRC,e.addPictureSRC,e.inputText),o=(e.changeIndex,e.changePlaceholder,e.reloadImages),u=e.addImages;return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement("h1",{className:"App-title"},"Flickr Gallery")),r.a.createElement("p",{className:"searchBox"},r.a.createElement("input",{className:"textInput",placeholder:c,onChange:function(e){""===e.target.value||i(e.target.value)}}),r.a.createElement("button",{onClick:function(){return o(n)}},"\u691c\u7d22")),r.a.createElement("section",{className:"picArea"},t),t.length>0?r.a.createElement("p",{className:"moreButton"},r.a.createElement("button",{onClick:function(){return u(n,a)}},"\u753b\u50cf\u3092\u3055\u3089\u306b\u8aad\u307f\u8fbc\u3080")):r.a.createElement("p",null,"\u691c\u7d22\u3057\u305f\u3044\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u3001\uff3b\u691c\u7d22\uff3d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002"))},E=n(12),h=n.n(E),I=n(16),g=function(e){return{type:"INITIALIZE_PICTURE",payload:{pictureTag:e}}},C=function(e){return{type:"ADD_PICTURE",payload:{pictureTag:e}}},v=function(e){return{type:"INITIALIZE_PICTURESRC",payload:{pictureSRC:e}}},T=function(e){return{type:"ADD_PICTURESRC",payload:{pictureSRC:e}}},y=function(e){return{type:"CHANGE_INDEX",payload:{indexNum:e}}},x=function(e){return{type:"CHANGE_PLACEHOLDER",payload:{phText:e}}},_=function(e){return e.photos.photo.map(function(e){var t="https://farm"+e.farm+".staticflickr.com/"+e.server+"/"+e.id+"_"+e.secret+"_n.jpg",n=e.id,a="/picture/"+e.id,c="id-"+e.id;return r.a.createElement("div",{id:c,key:n},r.a.createElement(u.Link,{to:a},r.a.createElement("img",{alt:"",src:t})))})},R=function(e){var t={},n={};return e.photos.photo.forEach(function(e){var a="https://farm"+e.farm+".staticflickr.com/"+e.server+"/"+e.id+"_"+e.secret+".jpg",r=e.id,c={src:a,title:e.title};n[r]=c,Object.assign(t,n)}),t},b=function(e,t){t(y(++e))},N=Object(i.b)(function(e){return{pictures:e.pictures,textInput:e.textInput,pageIndex:e.pageIndex,placeholderText:e.placeholderText}},function(e,t){return{initializePicture:function(t){e(g(t))},addPicture:function(t){e(C(t))},initializePictureSRC:function(t){e(v(t))},addPictureSRC:function(t){e(T(t))},inputText:function(t){e(function(e){return{type:"INPUT_TEXT",payload:{text:e}}}(t))},changeIndex:function(t){e(y(t))},changePlaceholder:function(t){e(x(t))},reloadImages:function(t){e(function(e){return function(){var t=Object(I.a)(h.a.mark(function t(n,a){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(y(2));case 2:fetch("https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=80fc790f054fc08c6370aba43284e925&tags="+e+"&per_page=10&page=1&format=json&nojsoncallback=1").then(function(e){return e.json()}).then(function(t){var a=_(t);n(g(a));var r=R(t);n(v(r)),n(x("\u73fe\u5728\u306e\u691c\u7d22\u30ef\u30fc\u30c9\uff1a"+e))});case 3:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()}(t))},addImages:function(t,n){e(function(e,t){return function(){var n=Object(I.a)(h.a.mark(function n(a,r){return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b(t,a);case 2:fetch("https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=80fc790f054fc08c6370aba43284e925&tags="+e+"&per_page=10&page="+t+"&format=json&nojsoncallback=1").then(function(e){return e.json()}).then(function(e){var t=_(e);a(C(t));var n=R(e);a(T(n))});case 3:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()}(t,n))}}})(f),k=n(28),P=function(e){var t,n,a,c=e.match.params.id,i=e.pictureSRC[c];return i&&(t=i.src,n=i.title,a="/#id-"+c),r.a.createElement("div",{className:"App PictureDetail"},r.a.createElement("header",null,r.a.createElement("h1",{className:"App-title"},"Flickr Gallery")),r.a.createElement("div",null,i?r.a.createElement("div",null,r.a.createElement("img",{src:t,alt:n}),r.a.createElement("p",null,n)):r.a.createElement("p",null,"\u753b\u50cf\u304c\u53d6\u5f97\u3067\u304d\u3066\u3044\u307e\u305b\u3093\u3002")),r.a.createElement("p",{className:"moreButton"},i?r.a.createElement(k.HashLink,{smooth:!0,to:a},r.a.createElement("button",null,"\u623b\u308b")):r.a.createElement(u.Link,{to:"/"},r.a.createElement("button",null,"\u623b\u308b"))))},S=Object(i.b)(function(e){return{pictureSRC:e.pictureSRC}})(P);n(45),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j=[m.a],w=o.a.apply(void 0,j)(o.c)(d,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());Object(c.render)(r.a.createElement(i.a,{store:w},r.a.createElement(u.BrowserRouter,null,r.a.createElement(l.d,{exact:!0,path:"/",component:N}),r.a.createElement(l.d,{path:"/picture/:id",component:S}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.ab872f16.chunk.js.map